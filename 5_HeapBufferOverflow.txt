Heap Buffer Overflow

******************************************************************************************************************

$ gcc heapbufferoverflow.c -o heapbufferoverflow
$ ./heapbufferoverflow 1234567890
$ ./heapbufferoverflow 123456789012345678901234567890
*** Error in `./heapbufferoverflow': free(): invalid next size (fast): 0x0000000000df1010 ***
======= Backtrace: =========
/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7fdefbd067e5]
/lib/x86_64-linux-gnu/libc.so.6(+0x7fe0a)[0x7fdefbd0ee0a]
/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7fdefbd1298c]
./heapbufferoverflow[0x4005f9]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7fdefbcaf830]
./heapbufferoverflow[0x4004e9]
======= Memory map: ========
00400000-00401000 r-xp 00000000 08:01 668640                             /home/ubuntu/Downloads/heapbufferoverflow
00600000-00601000 r--p 00000000 08:01 668640                             /home/ubuntu/Downloads/heapbufferoverflow
00601000-00602000 rw-p 00001000 08:01 668640                             /home/ubuntu/Downloads/heapbufferoverflow
00df1000-00e12000 rw-p 00000000 00:00 0                                  [heap]
7fdef4000000-7fdef4021000 rw-p 00000000 00:00 0
7fdef4021000-7fdef8000000 ---p 00000000 00:00 0
7fdefba79000-7fdefba8f000 r-xp 00000000 08:01 1054301                    /lib/x86_64-linux-gnu/libgcc_s.so.1
7fdefba8f000-7fdefbc8e000 ---p 00016000 08:01 1054301                    /lib/x86_64-linux-gnu/libgcc_s.so.1
7fdefbc8e000-7fdefbc8f000 rw-p 00015000 08:01 1054301                    /lib/x86_64-linux-gnu/libgcc_s.so.1
7fdefbc8f000-7fdefbe4e000 r-xp 00000000 08:01 1075519                    /lib/x86_64-linux-gnu/libc-2.23.so
7fdefbe4e000-7fdefc04e000 ---p 001bf000 08:01 1075519                    /lib/x86_64-linux-gnu/libc-2.23.so
7fdefc04e000-7fdefc052000 r--p 001bf000 08:01 1075519                    /lib/x86_64-linux-gnu/libc-2.23.so
7fdefc052000-7fdefc054000 rw-p 001c3000 08:01 1075519                    /lib/x86_64-linux-gnu/libc-2.23.so
7fdefc054000-7fdefc058000 rw-p 00000000 00:00 0
7fdefc058000-7fdefc07e000 r-xp 00000000 08:01 1075520                    /lib/x86_64-linux-gnu/ld-2.23.so
7fdefc259000-7fdefc25c000 rw-p 00000000 00:00 0
7fdefc27a000-7fdefc27d000 rw-p 00000000 00:00 0
7fdefc27d000-7fdefc27e000 r--p 00025000 08:01 1075520                    /lib/x86_64-linux-gnu/ld-2.23.so
7fdefc27e000-7fdefc27f000 rw-p 00026000 08:01 1075520                    /lib/x86_64-linux-gnu/ld-2.23.so
7fdefc27f000-7fdefc280000 rw-p 00000000 00:00 0
7ffeac2dd000-7ffeac2fe000 rw-p 00000000 00:00 0                          [stack]
7ffeac33c000-7ffeac33e000 r--p 00000000 00:00 0                          [vvar]
7ffeac33e000-7ffeac340000 r-xp 00000000 00:00 0                          [vdso]
ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
Aborted (core dumped)
$

******************************************************************************************************************
